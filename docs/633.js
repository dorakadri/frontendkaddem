"use strict";(self.webpackChunknow_ui_dashboard_angular=self.webpackChunknow_ui_dashboard_angular||[]).push([[633],{4633:function(Y,v,p){p.r(v),p.d(v,{DepartmentsModule:function(){return S}});var l=p(3144),d=p(5671),u=p(9808),m=p(4366),e=p(9115),C=function(){var t=function(){function a(){(0,d.Z)(this,a)}return(0,l.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-departments"]],decls:1,vars:0,template:function(r,n){1&r&&e._UZ(0,"router-outlet")},directives:[m.lC],styles:[""]}),t}(),g=p(4951),i=p(4182),_=function(){var t=function(){function a(r,n,o){(0,d.Z)(this,a),this.departementService=r,this.router=n,this.currentRoute=o}return(0,l.Z)(a,[{key:"ngOnInit",value:function(){var n=this,o=this.currentRoute.snapshot.params.idDepart;null!=o&&(this.departementService.getDepartmentByID(o).subscribe(function(s){return n.department=s}),this.departementService.GetNbensperDepartment(o).subscribe(function(s){return n.nbr=s}))}}]),a}();return t.\u0275fac=function(r){return new(r||t)(e.Y36(g.p),e.Y36(m.F0),e.Y36(m.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-detail-departments"]],decls:23,vars:3,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"title"],[1,"card-body"],["f","ngForm"],[1,"form-group","col-md-6"],["type","text","name","nomDepart","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","adresse","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","nbr","disabled","true",1,"form-control",3,"ngModel","ngModelChange"]],template:function(r,n){1&r&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Department"),e.qZA()(),e.TgZ(8,"div",7)(9,"form",null,8)(11,"div",9)(12,"label"),e._uU(13,"Nom:*"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.department.nomDepart=s}),e.qZA()(),e.TgZ(15,"div",9)(16,"label"),e._uU(17,"Adresse:*"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(s){return n.department.adresse=s}),e.qZA()(),e.TgZ(19,"div",9)(20,"label"),e._uU(21,"Nombre des enseignants :*"),e.qZA(),e.TgZ(22,"input",12),e.NdJ("ngModelChange",function(s){return n.nbr=s}),e.qZA()()()()()()()()),2&r&&(e.xp6(14),e.Q6J("ngModel",n.department.nomDepart),e.xp6(4),e.Q6J("ngModel",n.department.adresse),e.xp6(4),e.Q6J("ngModel",n.nbr))},directives:[i._Y,i.JL,i.F,i.Fj,i.JJ,i.On],styles:[""]}),t}(),D=p(6569),T=p(5226),c=p.n(T);function b(t,a){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," Required field"),e.qZA())}function A(t,a){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," min length is 3"),e.qZA())}function M(t,a){if(1&t&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",12),e._UZ(2,"path",13)(3,"path",14),e.qZA(),e.YNc(4,b,2,0,"span",9),e.YNc(5,A,2,0,"span",9),e.qZA()),2&t){var r=e.oxw();e.xp6(4),e.Q6J("ngIf",r.departmentForm.controls.nomDepart.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.departmentForm.controls.nomDepart.hasError("minlength"))}}function F(t,a){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," Required field"),e.qZA())}function y(t,a){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1," min length is 5"),e.qZA())}function x(t,a){if(1&t&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",12),e._UZ(2,"path",13)(3,"path",14),e.qZA(),e.YNc(4,F,2,0,"span",9),e.YNc(5,y,2,0,"span",9),e.qZA()),2&t){var r=e.oxw();e.xp6(4),e.Q6J("ngIf",r.departmentForm.controls.adresse.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.departmentForm.controls.adresse.hasError("minlength"))}}var q=function(){return["btn","btn-sm","btn-success"]},Z=function(){var t=function(){function a(r,n,o,s){(0,d.Z)(this,a),this.builder=r,this.departementService=n,this.router=o,this.currentRoute=s,this.department=new D.y}return(0,l.Z)(a,[{key:"ngOnInit",value:function(){var n=this,o=this.currentRoute.snapshot.params.idDepart;null!=o?(this.action="update",this.departementService.getDepartmentByID(o).subscribe(function(s){return n.department=s})):(this.action="Add",this.department=new D.y),this.departmentForm=this.builder.group({nomDepart:new i.NI("",i.kI.minLength(3)),adresse:new i.NI("",i.kI.minLength(5))})}},{key:"saveDepartment",value:function(){var n=this;this.departmentForm.valid?"Add"==this.action?this.departementService.addDepartment(this.department).subscribe(function(){n.router.navigate(["/departments"]),c().fire({icon:"success",title:"Department Saved successfully",showConfirmButton:!1,timer:1500})}):this.departementService.updateDepartment(this.department).subscribe(function(){n.router.navigate(["/departments"]),c().fire({icon:"success",title:"Department Updated successfully",showConfirmButton:!1,timer:1500})}):c().fire({icon:"error",title:"Oops...",text:"Please fill the required fields !",timer:2e3})}},{key:"nomDepart",get:function(){return this.nomDepart.get("nomDepart")}},{key:"adresse",get:function(){return this.adresse.get("adresse")}}]),a}();return t.\u0275fac=function(r){return new(r||t)(e.Y36(i.qu),e.Y36(g.p),e.Y36(m.F0),e.Y36(m.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-departments"]],decls:20,vars:9,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body-center"],[3,"formGroup","ngSubmit"],[1,"form-group","col-md-6"],["type","text","name","nomDepart","formControlName","nomDepart","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","text","name","adresse","formControlName","adresse","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-exclamation-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"]],template:function(r,n){1&r&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("ngSubmit",function(){return n.saveDepartment()}),e.TgZ(8,"div",7)(9,"label"),e._uU(10,"Name:*"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(s){return n.department.nomDepart=s}),e.qZA(),e.YNc(12,M,6,2,"div",9),e.qZA(),e.TgZ(13,"div",7)(14,"label"),e._uU(15,"Address:*"),e.qZA(),e.TgZ(16,"input",10),e.NdJ("ngModelChange",function(s){return n.department.adresse=s}),e.qZA(),e.YNc(17,x,6,2,"div",9),e.qZA(),e.TgZ(18,"button",11),e._uU(19),e.qZA()()()()()),2&r&&(e.xp6(5),e.hij("",n.action," a Department"),e.xp6(2),e.Q6J("formGroup",n.departmentForm),e.xp6(4),e.Q6J("ngModel",n.department.nomDepart),e.xp6(1),e.Q6J("ngIf",!n.departmentForm.controls.nomDepart.valid&&n.departmentForm.controls.nomDepart.touched),e.xp6(4),e.Q6J("ngModel",n.department.adresse),e.xp6(1),e.Q6J("ngIf",!n.departmentForm.controls.adresse.valid&&n.departmentForm.controls.adresse.touched),e.xp6(1),e.Q6J("ngClass",e.DdM(8,q)),e.xp6(1),e.hij(" ",n.action," "))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.Q7,u.O5,u.mk],styles:[""]}),t}(),h=p(9966),w=function(){var t=function(){function a(){(0,d.Z)(this,a)}return(0,l.Z)(a,[{key:"transform",value:function(n,o){return 0===n.length||""===o?n:n.filter(function(s){return s.nomDepart.toLowerCase().startsWith(o.toLowerCase())})}}]),a}();return t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=e.Yjl({name:"FilterPipeDepart",type:t,pure:!0}),t}(),J=function(a){return["details",a]},L=function(a){return["/departments/modifier",a]};function U(t,a){if(1&t){var r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",10),e.O4$(),e.TgZ(8,"svg",14),e._UZ(9,"path",15)(10,"path",16),e.qZA(),e.TgZ(11,"svg",17),e._UZ(12,"path",18)(13,"path",19),e.qZA(),e.TgZ(14,"svg",20),e.NdJ("click",function(){var f=e.CHM(r).$implicit;return e.oxw().delete(f)}),e._UZ(15,"path",21)(16,"path",22),e.qZA()()()}if(2&t){var n=a.$implicit;e.xp6(2),e.Oqu(n.idDepart),e.xp6(2),e.Oqu(n.nomDepart),e.xp6(2),e.Oqu(n.adresse),e.xp6(2),e.Q6J("routerLink",e.VKq(5,J,n.idDepart)),e.xp6(3),e.Q6J("routerLink",e.VKq(7,L,n.idDepart))}}var O=function(){return["btn","btn-sm","btn-color"]},z=function(a,r,n){return{itemsPerPage:a,currentPage:r,totalItems:n}},k=[{path:"",component:C,children:[{path:"",component:function(){var t=function(){function a(r){(0,d.Z)(this,a),this.serviceDepartement=r,this.page=1,this.count=0,this.tableSize=5,this.tableSizes=[5,10],this.filterTexts=""}return(0,l.Z)(a,[{key:"ngOnInit",value:function(){this.DepartmentsList()}},{key:"DepartmentsList",value:function(){var n=this;this.serviceDepartement.getAllDepartment().subscribe(function(o){n.list=o,console.log(n.list)})}},{key:"delete",value:function(n){var o=this;c().fire({title:"vous \xeates s\xfbr?",text:"voulez-vous supprimer cette department!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, Supprimer !"}).then(function(s){if(s.isConfirmed){var f=o.list.indexOf(n);o.serviceDepartement.delete(n.idDepart).subscribe(function(){o.list.splice(f,1)}),c().fire("Supprim\xe9!","Department supprim\xe9e avec success.","success")}})}},{key:"onTableDataChange",value:function(n){this.page=n,this.DepartmentsList()}},{key:"OnTableSizeChange",value:function(n){this.tableSize=n.target.value,this.page=1,this.DepartmentsList()}}]),a}();return t.\u0275fac=function(r){return new(r||t)(e.Y36(g.p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list-departments"]],decls:27,vars:15,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content",2,"margin-top","100px"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title"],["routerLink","ajouter",2,"background-color","#fa7641",3,"ngClass"],[1,"card-body"],["placeholder","  Search ...","aria-label","Search",1,"form-control","border","p-2","col-md-4",3,"ngModel","ngModelChange"],[3,"ngClass"],["_ngcontent-neq-c27","",1,"text-primary"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["previousLabel","\ud83e\udc78","nextLabel","\ud83e\udc7a",1,"my-pagination",3,"pageChange"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#00D100","viewBox","0 0 16 16",1,"bi","bi-info-circle","icon",3,"routerLink"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#FFDA00","viewBox","0 0 16 16",1,"bi","bi-pencil-square","icon",3,"routerLink"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","red","viewBox","0 0 16 16",1,"bi","bi-trash","icon",3,"click"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(r,n){1&r&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"List Departments"),e.qZA(),e.TgZ(6,"button",5),e._uU(7," Add Department "),e.qZA()(),e.TgZ(8,"div",6)(9,"form")(10,"input",7),e.NdJ("ngModelChange",function(s){return n.filterTexts=s}),e.qZA(),e.TgZ(11,"table",8)(12,"thead",9)(13,"th"),e._uU(14,"ID"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Department Name"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"address"),e.qZA(),e.TgZ(19,"th",10),e._uU(20,"ACTION"),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,U,17,9,"tr",11),e.ALo(23,"paginate"),e.ALo(24,"FilterPipeDepart"),e.qZA()(),e.TgZ(25,"div",12)(26,"pagination-controls",13),e.NdJ("pageChange",function(s){return n.onTableDataChange(s)}),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Q6J("ngClass",e.DdM(10,O)),e.xp6(4),e.Q6J("ngModel",n.filterTexts),e.xp6(1),e.Q6J("ngClass","table"),e.xp6(11),e.Q6J("ngForOf",e.xi3(23,4,e.xi3(24,7,n.list,n.filterTexts),e.kEZ(11,z,n.tableSize,n.page,n.count))))},directives:[m.rH,u.mk,i._Y,i.JL,i.F,i.Fj,i.JJ,i.On,u.sg,h.LS],pipes:[h._s,w],styles:[".my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:red;padding-right:10px;padding-left:10px;border-radius:20px}"]}),t}()},{path:"modifier/:idDepart",component:Z},{path:"ajouter",component:Z},{path:"details/:idDepart",component:_}]}],I=function(){var t=(0,l.Z)(function a(){(0,d.Z)(this,a)});return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(k)],m.Bz]}),t}(),S=function(){var t=(0,l.Z)(function a(){(0,d.Z)(this,a)});return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,i.u5,I,h.JX,i.u5,i.UX]]}),t}()}}]);