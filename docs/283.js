"use strict";(self.webpackChunknow_ui_dashboard_angular=self.webpackChunknow_ui_dashboard_angular||[]).push([[283],{2283:function(O,Z,c){c.r(Z),c.d(Z,{StudentsModule:function(){return Q}});var m=c(3144),f=c(5671),v=c(9808),_=c(4366),M=c(655),e=c(9115),h=c(5325),a=c(4182);function A(n,d){1&n&&(e.TgZ(0,"div"),e._uU(1,"this field is required"),e.qZA())}function y(n,d){1&n&&(e.TgZ(0,"div"),e._uU(1,"error pattern"),e.qZA())}function q(n,d){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,A,2,0,"div",41),e.YNc(2,y,2,0,"div",41),e.qZA()),2&n){e.oxw();var o=e.MAs(19);e.xp6(1),e.Q6J("ngIf",o.hasError("required")),e.xp6(1),e.Q6J("ngIf",o.hasError("pattern"))}}function b(n,d){1&n&&(e.TgZ(0,"div",40),e._uU(1," this field is required "),e.qZA())}function C(n,d){1&n&&(e.TgZ(0,"div",40),e._uU(1," this field is required "),e.qZA())}function U(n,d){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){var o=d.$implicit;e.s9C("value",o.idDepart),e.xp6(1),e.hij(" ",o.nomDepart," ")}}function x(n,d){if(1&n){var o=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",43)(4,"label",44)(5,"input",45),e.NdJ("change",function(l){return e.CHM(o),e.oxw().getid(l)}),e.qZA(),e._UZ(6,"span",46),e.qZA()()(),e.TgZ(7,"td",47),e._uU(8),e.qZA(),e.TgZ(9,"td",47),e._uU(10),e.qZA(),e.TgZ(11,"td",47),e._uU(12),e.qZA()()()}if(2&n){var t=d.$implicit,i=e.oxw();e.xp6(5),e.Q6J("value",t.idEquipe)("checked",i.idselected.includes(t.idEquipe)),e.xp6(3),e.Oqu(t.idEquipe),e.xp6(2),e.Oqu(t.nomEquipe),e.xp6(2),e.Oqu(t.niveau)}}var E=function(){var n=function(){function d(o,t){(0,f.Z)(this,d),this.studentService=o,this.router=t,this.depart=[],this.idselected=[],this.studentToUpdate={options:"",idEtudiant:"",nomE:"",prenomE:"",date_naissance:"",departements:""},this.displayStyle="none"}return(0,m.Z)(d,[{key:"ngOnInit",value:function(){var t=this;this.studentService.getDepartements().subscribe(function(i){t.depart=i,console.log(typeof t.depart)},function(){console.log("error")}),this.studentService.getallequipe().subscribe(function(i){t.selectedList=i,console.log(i)})}},{key:"openPopup",value:function(){this.displayStyle="block"}},{key:"closePopup",value:function(){this.displayStyle="none"}},{key:"register",value:function(t){var i=this,r=(0,M._T)(t.value,["departement"]),g=+t.value.departement;this.studentService.registerStudent(r).subscribe(function(s){0!==i.idselected.length&&i.idselected.forEach(function(p){return i.studentService.assignstudenttoequipe(s.idEtudiant,p).subscribe()}),0!==g?(i.studentService.assignStudent(s.idEtudiant,g).subscribe(),console.log("lalaal")):console.log("hello ")},function(s){console.log(s)},function(){setTimeout(function(){i.router.navigate(["/students"])},500)})}},{key:"getid",value:function(t){console.log(t),t.target.checked?(this.idselected.push(+t.target.value),console.log(this.idselected)):(this.idselected=this.idselected.filter(function(i){return i!==+t.target.value}),console.log(this.idselected))}}]),d}();return n.\u0275fac=function(o){return new(o||n)(e.Y36(h.V),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-student"]],decls:74,vars:6,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"card"],["type","button","routerLink","/students",1,"btn","btn-danger",2,"background-color","#fa7641"],[1,"card-header"],[1,"title"],[1,"card-body"],[3,"ngSubmit"],["f","ngForm","registerForm","ngForm"],[1,"row"],[1,"col-md-3","pr-1"],[1,"form-group"],["for","nom"],["type","text","name","nomE","id","nomE","placeholder","nom","required","","pattern","[A-Za-z]{3,12}$",1,"form-control",3,"ngModel"],["nomE","","n","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","prenom"],["type","text","name","prenomE","id","prenomE","placeholder","prenom","required","",1,"form-control",3,"ngModel"],["prenomE","","p","ngModel"],[1,"col-md-4","px-1"],["for","date_naissance"],["type","date","name","date_naissance","id","date_naissance","placeholder","date_naissance","required","",1,"form-control",3,"ngModel"],["date_naissance","","dt","ngModel"],[1,"col-md-3","px-1"],["for","departement"],["name","departement",1,"form-control",3,"ngModel"],["departement",""],[3,"value",4,"ngFor","ngForOf"],["for","option"],["name","options","required","",1,"form-control",3,"ngModel"],["options",""],["value","SIM"],["value","GAMIX"],["value","SE"],["value","NIDS"],["type","submit","value","Register",1,"btn","btn-danger",3,"disabled"],[1,"table-responsive"],[1,"table","align-middle","mb-0","bg-white"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"value","checked","change"],[1,"form-check-sign"],[1,"text-left"]],template:function(o,t){if(1&o){var i=e.EpF();e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e._uU(4," Display Student "),e.qZA(),e.TgZ(5,"div",4)(6,"h5",5),e._uU(7,"Add Student"),e.qZA()(),e.TgZ(8,"div",6)(9,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(i);var p=e.MAs(11);return t.register(p)}),e.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),e._uU(16,"First Name "),e.qZA(),e.TgZ(17,"input",13,14),e.NdJ("ngModel",function(){return e.CHM(i),e.MAs(18)}),e.qZA(),e.YNc(20,q,3,2,"div",15),e.qZA()(),e.TgZ(21,"div",10)(22,"div",11)(23,"label",16),e._uU(24,"Last Name"),e.qZA(),e.TgZ(25,"input",17,18),e.NdJ("ngModel",function(){return e.CHM(i),e.MAs(26)}),e.qZA(),e.YNc(28,b,2,0,"div",15),e.qZA()(),e.TgZ(29,"div",19)(30,"div",11)(31,"label",20),e._uU(32,"Date of birth:"),e.qZA(),e.TgZ(33,"input",21,22),e.NdJ("ngModel",function(){return e.CHM(i),e.MAs(34)}),e.qZA(),e.YNc(36,C,2,0,"div",15),e.qZA()(),e.TgZ(37,"div",23)(38,"div",11)(39,"label",24),e._uU(40,"Departments:"),e.qZA(),e.TgZ(41,"select",25,26),e.NdJ("ngModel",function(){return e.CHM(i),e.MAs(42)}),e.YNc(43,U,2,2,"option",27),e.qZA()()()(),e.TgZ(44,"div",9)(45,"div",23)(46,"div",11)(47,"label",28),e._uU(48,"option:"),e.qZA(),e.TgZ(49,"select",29,30),e.NdJ("ngModel",function(){return e.CHM(i),e.MAs(50)}),e.TgZ(51,"option",31),e._uU(52,"SIM"),e.qZA(),e.TgZ(53,"option",32),e._uU(54,"GAMIX"),e.qZA(),e.TgZ(55,"option",33),e._uU(56,"SE"),e.qZA(),e.TgZ(57,"option",34),e._uU(58,"NIDS"),e.qZA()()()()(),e.TgZ(59,"button",35),e._uU(60," Save Student "),e.qZA(),e._UZ(61,"div",9),e.qZA(),e.TgZ(62,"div",36)(63,"table",37)(64,"thead",38)(65,"th"),e._uU(66,"select"),e.qZA(),e.TgZ(67,"th"),e._uU(68,"ID"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"Team Name"),e.qZA(),e.TgZ(71,"th"),e._uU(72,"Level"),e.qZA()(),e.YNc(73,x,13,5,"tbody",39),e.qZA()()()()()}if(2&o){var u=e.MAs(10),l=e.MAs(19),r=e.MAs(27),g=e.MAs(35);e.xp6(20),e.Q6J("ngIf",l.invalid&&l.touched),e.xp6(8),e.Q6J("ngIf",r.invalid&&r.touched),e.xp6(8),e.Q6J("ngIf",g.invalid&&g.touched),e.xp6(7),e.Q6J("ngForOf",t.depart),e.xp6(16),e.Q6J("disabled",u.invalid),e.xp6(14),e.Q6J("ngForOf",t.selectedList)}},directives:[_.rH,a._Y,a.JL,a.F,a.Fj,a.Q7,a.c5,a.JJ,a.On,v.O5,a.EJ,v.sg,a.YN,a.Kr],styles:[""]}),n}(),J=function(){var n=function(){function d(){(0,f.Z)(this,d)}return(0,m.Z)(d,[{key:"transform",value:function(t,i){return i&&t?d.filter(t,i):t}}],[{key:"filter",value:function(t,i){var u=i.toLowerCase();function l(r,g){for(var s in r)if(null!==r[s]&&null!=r[s]&&("object"==typeof r[s]&&l(r[s],g)||r[s].toString().toLowerCase().includes(u)))return!0;return!1}return t.filter(function(r){return l(r,i)})}}]),d}();return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),F=function(){var n=(0,m.Z)(function d(){(0,f.Z)(this,d)});return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),S=function(){return{color:"red"}};function N(n,d){1&n&&(e.TgZ(0,"td",56),e._uU(1," not assigned yet "),e.qZA()),2&n&&e.Q6J("ngStyle",e.DdM(1,S))}var k=function(){return{color:"green"}};function L(n,d){if(1&n&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&n){var o=e.oxw().$implicit;e.Q6J("ngStyle",e.DdM(2,k)),e.xp6(1),e.hij(" ",o.departement.nomDepart," ")}}function D(n,d){if(1&n){var o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,N,2,2,"td",48),e.YNc(12,L,2,3,"td",48),e.TgZ(13,"td",49),e.O4$(),e.TgZ(14,"svg",50),e.NdJ("click",function(){return e.CHM(o),e.oxw().openPopup()})("click",function(){var l=e.CHM(o).$implicit;return e.oxw().edit(l)}),e._UZ(15,"path",51)(16,"path",52),e.qZA(),e.TgZ(17,"svg",53),e.NdJ("click",function(){return e.CHM(o),e.oxw().openPopup2()})("click",function(){var l=e.CHM(o).$implicit;return e.oxw().deleteStudent(l)}),e._UZ(18,"path",54)(19,"path",55),e.qZA()()()}if(2&n){var t=d.$implicit;e.xp6(2),e.Oqu(t.idEtudiant),e.xp6(2),e.Oqu(t.nomE),e.xp6(2),e.Oqu(t.prenomE),e.xp6(2),e.Oqu(t.date_naissance),e.xp6(2),e.Oqu(t.options),e.xp6(1),e.Q6J("ngIf",null===t.departement),e.xp6(1),e.Q6J("ngIf",t.departement)}}var T=function(d){return{display:d}},P=[{path:"",component:function(){var n=function(){function d(o,t){(0,f.Z)(this,d),this.studentService=o,this.router=t,this.title="gestion Etudiant",this.studentDetails=[],this.list=[],this.studentToUpdate={idEtudiant:"",nomE:"",prenomE:"",date_naissance:"",options:"",departement:""},this.displayStyle="none",this.displayStyle2="none"}return(0,m.Z)(d,[{key:"ngOnInit",value:function(){var t=this;this.studentService.getStudents().subscribe(function(i){t.studentDetails=i,console.log(t.studentDetails)},function(i){console.log(i)},function(){})}},{key:"openPopup",value:function(){this.displayStyle="block"}},{key:"openPopup2",value:function(){this.displayStyle2="block"}},{key:"closePopup",value:function(){this.displayStyle="none"}},{key:"closePopup2",value:function(){this.displayStyle2="none"}},{key:"register",value:function(t){this.studentService.registerStudent(t.value).subscribe(function(i){console.log(i)},function(i){console.log(i)})}},{key:"deleteStudent",value:function(t){var i=this,u=this.studentDetails.findIndex(function(l){return l.idEtudiant===t.idEtudiant});console.log(u),this.studentService.deleteStudent(t.idEtudiant).subscribe(function(l){console.log(l),i.studentDetails.splice(u,1)},function(l){console.log(l)},function(){console.log("deleted succefuly")})}},{key:"edit",value:function(t){console.log(t),this.studentToUpdate=t,console.log(this.studentToUpdate)}},{key:"updateStudent",value:function(){this.studentService.updateStudents(this.studentToUpdate).subscribe(function(t){console.log(t)},function(t){console.log(t)})}}]),d}();return n.\u0275fac=function(o){return new(o||n)(e.Y36(h.V),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-student"]],decls:93,vars:18,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content",2,"margin-top","100px"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title"],["type","button","routerLink","/students/ajouter",1,"btn",2,"background-color","#fa7641"],[1,"card-body"],[1,"col-sm-6","col-lg-3"],[1,"input-group"],["type","text","name","search","autocomplete","on","placeholder"," SEARCH  ",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"now-ui-icons","ui-1_zoom-bold"],[1,"table"],[1,"text-primary"],[4,"ngFor","ngForOf"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"ngSubmit"],["updateForm","ngForm"],[1,"form-group"],["for","idEtudiant"],["type","text","disabled","","name","idEtudiant","id","idEtudiant",1,"form-control",3,"ngModel","ngModelChange"],["idEtudiant",""],["for","nomE"],["type","text","name","nomE","id","nomE",1,"form-control",3,"ngModel","ngModelChange"],["nomE",""],["for","prenomE"],["type","text","name","prenomE","id","prenomE",1,"form-control",3,"ngModel","ngModelChange"],["prenomE",""],["for","percentage"],["type","date","name","date_naissance","id","date_naissance",1,"form-control",3,"ngModel","ngModelChange"],["date_naissance",""],["for","option"],["name","options","required","",1,"form-control",3,"ngModel","ngModelChange"],["options",""],["value","SIM"],["value","GAMIX"],["value","SE"],["value","NIDS"],["type","submit","value","Update",1,"btn","btn-primary","w-100"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-title",3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,""],["xmlns","http://www.w3.or{g/2000/svg","width","22","height","22","fill","#FFDA00","viewBox","0 0 16 16",1,"bi","bi-pencil-square","icon",3,"click"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","red","viewBox","0 0 16 16",1,"bi","bi-trash","icon",3,"click"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],[3,"ngStyle"]],template:function(o,t){1&o&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Student List"),e.qZA(),e.TgZ(6,"button",5),e._uU(7," Add Student "),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"input",9),e.NdJ("ngModelChange",function(u){return t.searchText=u}),e.qZA(),e.TgZ(12,"div",10)(13,"span",11),e._UZ(14,"i",12),e.qZA()()()(),e.TgZ(15,"table",13)(16,"thead",14)(17,"th"),e._uU(18,"id"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"First Name"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Last Name"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Date of birth"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"option"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Department"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Actions"),e.qZA()(),e.TgZ(31,"tbody"),e.YNc(32,D,20,7,"tr",15),e.ALo(33,"filter"),e.qZA()()()()(),e.TgZ(34,"div",16),e._UZ(35,"div",0),e.TgZ(36,"div",17)(37,"div",18)(38,"div",19)(39,"h4",20),e._uU(40,"Update Student"),e.qZA()(),e.TgZ(41,"div",21)(42,"form",22,23),e.NdJ("ngSubmit",function(){return t.updateStudent()}),e.TgZ(44,"div",24)(45,"label",25),e._uU(46," Student id :"),e.qZA(),e.TgZ(47,"input",26,27),e.NdJ("ngModelChange",function(u){return t.studentToUpdate.idEtudiant=u}),e.qZA()(),e.TgZ(49,"div",24)(50,"label",28),e._uU(51,"First Name:"),e.qZA(),e.TgZ(52,"input",29,30),e.NdJ("ngModelChange",function(u){return t.studentToUpdate.nomE=u}),e.qZA()(),e.TgZ(54,"div",24)(55,"label",31),e._uU(56,"Last Name:"),e.qZA(),e.TgZ(57,"input",32,33),e.NdJ("ngModelChange",function(u){return t.studentToUpdate.prenomE=u}),e.qZA()(),e.TgZ(59,"div",24)(60,"label",34),e._uU(61,"Date of birth :"),e.qZA(),e.TgZ(62,"input",35,36),e.NdJ("ngModelChange",function(u){return t.studentToUpdate.date_naissance=u}),e.qZA()(),e.TgZ(64,"div",24)(65,"label",37),e._uU(66,"option:"),e.qZA(),e.TgZ(67,"select",38,39),e.NdJ("ngModelChange",function(u){return t.studentToUpdate.options=u}),e.TgZ(69,"option",40),e._uU(70,"SIM"),e.qZA(),e.TgZ(71,"option",41),e._uU(72,"GAMIX"),e.qZA(),e.TgZ(73,"option",42),e._uU(74,"SE"),e.qZA(),e.TgZ(75,"option",43),e._uU(76,"NIDS"),e.qZA()()(),e.TgZ(77,"div",24),e._UZ(78,"input",44),e.qZA()()(),e.TgZ(79,"div",45)(80,"button",46),e.NdJ("click",function(){return t.closePopup()}),e._uU(81," Close "),e.qZA()()()()(),e.TgZ(82,"div",16),e._UZ(83,"div",0),e.TgZ(84,"div",17)(85,"div",18)(86,"div",19)(87,"h4",47),e._uU(88," Student Deleted successfully "),e.qZA()(),e._UZ(89,"div",21),e.TgZ(90,"div",45)(91,"button",46),e.NdJ("click",function(){return t.closePopup2()}),e._uU(92," Close "),e.qZA()()()()()),2&o&&(e.xp6(11),e.Q6J("ngModel",t.searchText),e.xp6(21),e.Q6J("ngForOf",e.xi3(33,10,t.studentDetails,t.searchText)),e.xp6(2),e.Q6J("ngStyle",e.VKq(13,T,t.displayStyle)),e.xp6(13),e.Q6J("ngModel",t.studentToUpdate.idEtudiant),e.xp6(5),e.Q6J("ngModel",t.studentToUpdate.nomE),e.xp6(5),e.Q6J("ngModel",t.studentToUpdate.prenomE),e.xp6(5),e.Q6J("ngModel",t.studentToUpdate.date_naissance),e.xp6(5),e.Q6J("ngModel",t.studentToUpdate.options),e.xp6(15),e.Q6J("ngStyle",e.VKq(15,T,t.displayStyle2)),e.xp6(5),e.Q6J("ngStyle",e.DdM(17,S)))},directives:[_.rH,a.Fj,a.JJ,a.On,v.sg,v.O5,v.PC,a._Y,a.JL,a.F,a.EJ,a.Q7,a.YN,a.Kr],pipes:[J],styles:[".icon[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}"]}),n}()},{path:"ajouter",component:E}],w=function(){var n=(0,m.Z)(function d(){(0,f.Z)(this,d)});return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.Bz.forChild(P)],_.Bz]}),n}(),Q=function(){var n=(0,m.Z)(function d(){(0,f.Z)(this,d)});return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.ez,a.u5,w,F]]}),n}()}}]);