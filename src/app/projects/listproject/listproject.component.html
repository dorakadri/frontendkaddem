<div class="panel-header panel-header-sm"></div>

<div class="main-content">
  <div class="card" style="width: 22rem">
    <div class="card-body d-flex flex-row">
      <div class="d-flex flex-row">
        <i class="d-flex align-items-center pr-3"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="30"
            height="30"
            fill="#18ce0f"
            class="bi bi-check2-circle"
            viewBox="0 0 16 16"
          >
            <path
              d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"
            />
            <path
              d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"
            />
          </svg>
        </i>
        <div>
          <h5 class="card-title text-success">{{ done }}</h5>
          <h6 class="card-subtitle mb-2 pr-2 text-muted text-success">DONE</h6>
        </div>
      </div>
      <div class="divider"></div>
      <div class="d-flex flex-row">
        <i class="d-flex align-items-center pr-3"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="30"
            height="30"
            fill="#ffb236"
            class="bi bi-graph-up-arrow"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"
            />
          </svg>
        </i>
        <div>
          <h5 class="card-title text-warning">{{ encour }}</h5>
          <h6 class="card-subtitle text-muted text-warning">IN PROGRESS</h6>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <h4 class="card-title">Project List</h4>
          <button class="btn btn-success" routerLink="addnewproject">
            ADD PROJECT
          </button>
        </div>
        <div class="card-body">
          <div class="col-sm-6 col-lg-3">
            <app-search
              (SearchTextchanged)="onSearchtextentered($event)"
            ></app-search>
          </div>
          <div class="table-responsive tableall">
            <table class="table align-middle mb-0 bg-white">
              <thead class="bg-light stickyhead">
                <th (click)="sortdata()">
                  Project Name
                  <i *ngIf="desc === true">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-sort-alpha-down-alt"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z"
                      />
                      <path
                        fill-rule="evenodd"
                        d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z"
                      />
                      <path
                        d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"
                      /></svg
                  ></i>
                  <i *ngIf="desc === false"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-sort-alpha-up"
                      viewBox="0 0 16 16"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"
                      />
                      <path
                        d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"
                      /></svg
                  ></i>
                </th>
                <th>Client</th>
                <th>DeadLine</th>
                <th>Etat</th>
                <th>Documentation</th>
                <th class="pl-5">Actions</th>
              </thead>
              <tbody *ngFor="let l of list">
                <!-- <tr *ngIf="searchText === '' || l.nomProjet.toLowerCase().includes(searchText)" > my  first approach -->
                <tr
                  *ngIf="
                    searchText === '' ||
                    l.nomProjet.toLowerCase().includes(searchText)
                  "
                >
                  <td>
                    {{ l.nomProjet }}
                  </td>
                  <td>
                    <p class="fw-normal mb-1">{{ l.client }}</p>
                  </td>

                  <td>{{ l.deadline }}</td>
                  <td>
                    <span
                      class="badge badge-success rounded-pill d-inline"
                      [ngClass]="{
                        'badge-danger': l.etat === 'ANNULER',
                        'badge-warning': l.etat === 'ENCOUR'
                      }"
                    >
                      {{ l.etat }}</span
                    >
                  </td>
                  <td>
                    <button
                      class="btn btn-link btn-info"
                      *ngIf="l.file !== null"
                      (click)="onDownloadfiles(l.file.id)"
                    >
                      {{ l.file.name }}
                    </button>

                    <span *ngIf="l.file === null" class="text-info">
                      No documentation
                    </span>
                  </td>
                  <td>
                    <div class="button-container">
                      <button
                        [routerLink]="['Modifier', l.idProjet]"
                        href="#"
                        class="btn btn-neutral btn-icon btn-round btn-lg"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-pencil"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"
                          />
                        </svg>
                      </button>
                      <button
                        class="btn btn-neutral btn-icon btn-round btn-lg"
                        (click)="deleteproject(l.idProjet)"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-trash3"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"
                          />
                        </svg>
                      </button>

                      <button
                        [routerLink]="['detail', l.idProjet]"
                        class="btn btn-neutral btn-icon btn-round btn-lg"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-info-circle"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                          />
                          <path
                            d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
                          />
                        </svg>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
